<!DOCTYPE html>
<html ng-app="TagBBS">
<title> TagBBS </title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Use CDN as much as possible to make repo slimmer-->
<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/codemirror.min.css">
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-route.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/markdown/markdown.min.js"></script>
<script src="http://nodeca.github.io/js-yaml/js/js-yaml.js"></script>

<link rel="stylesheet" type="text/css" href="tagbbs.css">
<script src="tagbbs.js"></script>

<body>
<div ng-controller="MainCtrl">
    <a href="#/login">Login</a> |
    <a href="#/logout">Logout</a> |
    <a href="#/list">List</a> |
    <a href="#/show">Show</a> |
    <a href="#/put">Put</a>
    <div ng-view></div>
</div>


<script type="text/ng-template" id="login.html">
<form ng-submit="submit()">
    <div>{{message}}</div>
    <input type="text" ng-model="user">
    <input type="password" ng-model="pass">
    <button type="submit">Login</button>
</form>
</script>

<script type="text/ng-template" id="logout.html">
<div>{{error}}</div>
</script>

<script type="text/ng-template" id="list.html">
<input class="form-control" type="text" ng-model="query" placeholder="query (e.g. test)">
<div ng-hide="posts">Empty.</div>
<ul ng-show="posts">
    <li ng-repeat="post in posts"><a href="#show/{{post.key}}">[{{post.key}}]{{post.title}}</a></li>
</ul>
</script>

<script type="text/ng-template" id="show.html">
<div class="post">
<input class="form-control" type="text" ng-model="key" placeholder="key (e.g. post:1 or user:sysop)">
<br>
{{error}}
<post ng-model="post"></post>
<a class="btn btn-primary" href="#/put/{{key}}">Edit</a>
<button class="btn btn-default" ng-click="show_raw()" ng-show="post.rev">Show Raw</button>
</script>

<script type="text/ng-template" id="put.html">
<div>{{error}}</div>
<form ng-submit="submit()">
    <input class="form-control" type="text" ng-model="key" placeholder="key, leave empty for new post"><br>
    <textarea codemirror ng-model="content"></textarea> <br>
    <button class="btn btn-primary" type="submit">Submit</button><br>
    <span ng-show="rev">rev: {{rev}}</span><br>
</form>
</script>

</body>
</html>
